package com.ems.backend.util.exception;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.web.bind.annotation.RestControllerAdvice;

import com.ems.backend.model.response.ErrorResponse;
import com.ems.backend.model.response.ErrorResponse.Type;

import ch.qos.logback.core.net.SocketConnector.ExceptionHandler;

@RestControllerAdvice
public class ExceptionHandling {

	private Logger logger = LoggerFactory.getLogger(ExceptionHandler.class);
	
	ErrorResponse handle(ApiValidationException e) {
		
		logger.error("Api Validation Exception ...");
		for(String message : e.getErrors()) {
			logger.error(message.getMessage());
		}
		
		return new ErrorResponse(Type.Validation, e.getErrors());
	}
}
